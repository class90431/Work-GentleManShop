{"remainingRequest":"/Users/heather/Desktop/Harden/work-ecshop/node_modules/thread-loader/dist/cjs.js!/Users/heather/Desktop/Harden/work-ecshop/node_modules/babel-loader/lib/index.js!/Users/heather/Desktop/Harden/work-ecshop/node_modules/eslint-loader/index.js??ref--13-0!/Users/heather/Desktop/Harden/work-ecshop/src/main.js","dependencies":[{"path":"/Users/heather/Desktop/Harden/work-ecshop/src/main.js","mtime":1560692924000},{"path":"/Users/heather/Desktop/Harden/work-ecshop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/heather/Desktop/Harden/work-ecshop/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/heather/Desktop/Harden/work-ecshop/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/heather/Desktop/Harden/work-ecshop/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"/Users/heather/Desktop/Harden/work-ecshop/node_modules/core-js/modules/es6.array.iterator.js\";\nimport \"/Users/heather/Desktop/Harden/work-ecshop/node_modules/core-js/modules/es6.promise.js\";\nimport \"/Users/heather/Desktop/Harden/work-ecshop/node_modules/core-js/modules/es6.object.assign.js\";\nimport \"/Users/heather/Desktop/Harden/work-ecshop/node_modules/core-js/modules/es7.promise.finally.js\";\n// 第三方套件\nimport Vue from 'vue';\nimport Vuex from 'vuex'; // Import Vuex\n\nimport axios from 'axios'; // Import 可 AJAX 的插件\n\nimport VueAxios from 'vue-axios'; // Import 可 AJAX 的插件\n\nimport Loading from 'vue-loading-overlay'; // Import '等待 loading' 的插件\n\nimport VeeValidate from 'vee-validate'; // Import 表格驗證の插件\n\nimport zhTWvalidate from 'vee-validate/dist/locale/zh_TW'; // Import 中文化驗證の插件\n\nimport 'vue-loading-overlay/dist/vue-loading.css'; // Import '等待 loading' 的插件\n\nimport 'bootstrap/scss/bootstrap.scss'; // Import css file\n\nimport 'bootstrap'; // Import js file\n// 自己撰寫\n\nimport App from \"./App.vue\";\nimport router from \"./router\"; // 載入路由器\n\nimport \"./bus\";\nimport currencyFilter from \"./filters/currency\"; // 載入錢幣的 filter\n\nimport timeFilter from \"./filters/time\"; // 載入時間的 filter\n\nimport integerFilter from \"./filters/integer\"; // 載入只取整數的 filter\n\nimport store from \"./store\"; // 載入 store\n\nVue.use(VueAxios, axios);\nVue.use(VeeValidate, {\n  // 表格驗證\n  events: 'input|blur'\n});\nVue.use(Vuex);\nVue.component('Loading', Loading); // 全域宣告使用 Loading 元件\n\nVue.filter('currency', currencyFilter); // 全域宣告使用 currency 的 Filter\n\nVue.filter('time', timeFilter); // 全域宣告使用 time 的 Filter\n\nVue.filter('integer', integerFilter); // 全域宣告使用 integer 的 Filter\n\nVue.config.productionTip = false;\naxios.defaults.withCredentials = true; // 儲存 cookies 到前端\n\nVeeValidate.Validator.localize('zh_TW', zhTWvalidate); // 將驗證の插件改成中文版\n\nnew Vue({\n  router: router,\n  store: store,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app'); // 導航守衛\n\nrouter.beforeEach(function (to, from, next) {\n  if (to.meta.requiresAuth) {\n    var api = \"\".concat(process.env.VUE_APP_API_PATH, \"/api/user/check\"); // 檢查用戶是否仍持續登入\n\n    axios.post(api).then(function (response) {\n      // console.log(response.data)\n      if (response.data.success) {\n        // 如果驗證成功（為持續登入），便能放行前往\n        next();\n      } else {\n        // 否則便前往登入頁面\n        next({\n          path: '/login'\n        });\n      }\n    });\n  } else {\n    next();\n  }\n});",{"version":3,"sources":["/Users/heather/Desktop/Harden/work-ecshop/src/main.js"],"names":["Vue","Vuex","axios","VueAxios","Loading","VeeValidate","zhTWvalidate","App","router","currencyFilter","timeFilter","integerFilter","store","use","events","component","filter","config","productionTip","defaults","withCredentials","Validator","localize","render","h","$mount","beforeEach","to","from","next","meta","requiresAuth","api","process","env","VUE_APP_API_PATH","post","then","response","data","success","path"],"mappings":";;;;AAAA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CAAwB;;AACxB,OAAOC,KAAP,MAAkB,OAAlB,C,CAA0B;;AAC1B,OAAOC,QAAP,MAAqB,WAArB,C,CAAiC;;AACjC,OAAOC,OAAP,MAAoB,qBAApB,C,CAA0C;;AAC1C,OAAOC,WAAP,MAAwB,cAAxB,C,CAAuC;;AACvC,OAAOC,YAAP,MAAyB,gCAAzB,C,CAA0D;;AAC1D,OAAO,0CAAP,C,CAAkD;;AAClD,OAAO,+BAAP,C,CAAuC;;AACvC,OAAO,WAAP,C,CAAmB;AACnB;;AACA,OAAOC,GAAP;AACA,OAAOC,MAAP,iB,CAA6B;;AAC7B;AACA,OAAOC,cAAP,2B,CAAgD;;AAChD,OAAOC,UAAP,uB,CAAwC;;AACxC,OAAOC,aAAP,0B,CAA8C;;AAC9C,OAAOC,KAAP,gB,CAA4B;;AAE5BZ,GAAG,CAACa,GAAJ,CAAQV,QAAR,EAAkBD,KAAlB;AACAF,GAAG,CAACa,GAAJ,CAAQR,WAAR,EAAqB;AAAE;AACrBS,EAAAA,MAAM,EAAE;AADW,CAArB;AAGAd,GAAG,CAACa,GAAJ,CAAQZ,IAAR;AAEAD,GAAG,CAACe,SAAJ,CAAc,SAAd,EAAyBX,OAAzB,E,CAAkC;;AAClCJ,GAAG,CAACgB,MAAJ,CAAW,UAAX,EAAuBP,cAAvB,E,CAAuC;;AACvCT,GAAG,CAACgB,MAAJ,CAAW,MAAX,EAAmBN,UAAnB,E,CAA+B;;AAC/BV,GAAG,CAACgB,MAAJ,CAAW,SAAX,EAAsBL,aAAtB,E,CAAqC;;AAErCX,GAAG,CAACiB,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEAhB,KAAK,CAACiB,QAAN,CAAeC,eAAf,GAAiC,IAAjC,C,CAAsC;;AAEtCf,WAAW,CAACgB,SAAZ,CAAsBC,QAAtB,CAA+B,OAA/B,EAAwChB,YAAxC,E,CAAsD;;AAEtD,IAAIN,GAAJ,CAAQ;AACNQ,EAAAA,MAAM,EAANA,MADM;AAENI,EAAAA,KAAK,EAALA,KAFM;AAGNW,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAACjB,GAAD,CAAL;AAAA;AAHH,CAAR,EAIGkB,MAJH,CAIU,MAJV,E,CAMA;;AACAjB,MAAM,CAACkB,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,IAAH,CAAQC,YAAZ,EAA0B;AACxB,QAAMC,GAAG,aAAMC,OAAO,CAACC,GAAR,CAAYC,gBAAlB,oBAAT,CADwB,CACqC;;AAC7DjC,IAAAA,KAAK,CAACkC,IAAN,CAAWJ,GAAX,EAAgBK,IAAhB,CAAqB,UAACC,QAAD,EAAc;AACjC;AACA,UAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AAAE;AAC3BX,QAAAA,IAAI;AACL,OAFD,MAEO;AAAE;AACPA,QAAAA,IAAI,CAAC;AACHY,UAAAA,IAAI,EAAE;AADH,SAAD,CAAJ;AAGD;AACF,KATD;AAUD,GAZD,MAYO;AACLZ,IAAAA,IAAI;AACL;AACF,CAhBD","sourcesContent":["// 第三方套件\nimport Vue from 'vue'\nimport Vuex from 'vuex' // Import Vuex\nimport axios from 'axios' // Import 可 AJAX 的插件\nimport VueAxios from 'vue-axios' // Import 可 AJAX 的插件\nimport Loading from 'vue-loading-overlay' // Import '等待 loading' 的插件\nimport VeeValidate from 'vee-validate' // Import 表格驗證の插件\nimport zhTWvalidate from 'vee-validate/dist/locale/zh_TW' // Import 中文化驗證の插件\nimport 'vue-loading-overlay/dist/vue-loading.css' // Import '等待 loading' 的插件\nimport 'bootstrap/scss/bootstrap.scss' // Import css file\nimport 'bootstrap' // Import js file\n// 自己撰寫\nimport App from './App.vue'\nimport router from './router'// 載入路由器\nimport './bus'\nimport currencyFilter from './filters/currency' // 載入錢幣的 filter\nimport timeFilter from './filters/time' // 載入時間的 filter\nimport integerFilter from './filters/integer' // 載入只取整數的 filter\nimport store from './store' // 載入 store\n\nVue.use(VueAxios, axios)\nVue.use(VeeValidate, { // 表格驗證\n  events: 'input|blur'\n})\nVue.use(Vuex)\n\nVue.component('Loading', Loading) // 全域宣告使用 Loading 元件\nVue.filter('currency', currencyFilter) // 全域宣告使用 currency 的 Filter\nVue.filter('time', timeFilter) // 全域宣告使用 time 的 Filter\nVue.filter('integer', integerFilter) // 全域宣告使用 integer 的 Filter\n\nVue.config.productionTip = false\n\naxios.defaults.withCredentials = true // 儲存 cookies 到前端\n\nVeeValidate.Validator.localize('zh_TW', zhTWvalidate) // 將驗證の插件改成中文版\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n\n// 導航守衛\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.requiresAuth) {\n    const api = `${process.env.VUE_APP_API_PATH}/api/user/check` // 檢查用戶是否仍持續登入\n    axios.post(api).then((response) => {\n      // console.log(response.data)\n      if (response.data.success) { // 如果驗證成功（為持續登入），便能放行前往\n        next()\n      } else { // 否則便前往登入頁面\n        next({\n          path: '/login'\n        })\n      }\n    })\n  } else {\n    next()\n  }\n})\n"]}]}